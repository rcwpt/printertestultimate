<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ULTIMATE PRINTER DIAGNOSTIC TOOL - FULL PAGE</title>
    <style>
        /* --- CONFIGURATION & RESET --- */
        :root {
            --bg-color: #2b2b2b;
            --paper-color: #ffffff;
            --accent-color: #00ff00; /* Hacker Green for UI */
        }

        body {
            font-family: 'Courier New', Courier, 'Lucida Sans Typewriter', 'Lucida Console', monospace;
            background-color: var(--bg-color);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* --- UI CONTROLS (Screen Only) --- */
        .ui-panel {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: #000;
            color: var(--accent-color);
            padding: 10px;
            display: flex;
            justify-content: center;
            gap: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.5);
            z-index: 1000;
            border-bottom: 2px solid var(--accent-color);
        }

        .ui-btn {
            background: #000;
            color: var(--accent-color);
            border: 1px solid var(--accent-color);
            padding: 8px 16px;
            font-family: inherit;
            font-weight: bold;
            cursor: pointer;
            text-transform: uppercase;
            transition: all 0.2s;
        }

        .ui-btn:hover {
            background: var(--accent-color);
            color: #000;
        }

        .page-indicator {
            display: flex;
            align-items: center;
            font-weight: bold;
        }

        /* --- PAPER SETUP (A4) --- */
        .sheet {
            width: 210mm;
            height: 297mm;
            background: var(--paper-color);
            margin: 80px auto 20px auto;
            position: relative;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            overflow: hidden;
            display: none;
            box-sizing: border-box;
            border: 1px solid #ddd;
        }

        .sheet.active {
            display: block;
        }

        /* --- COMMON ELEMENTS --- */
        .header-strip {
            height: 15mm;
            border-bottom: 2px solid #000;
            padding: 0 10mm;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 10pt;
            background: #f0f0f0;
        }

        .content-area {
            padding: 10mm;
            height: calc(297mm - 15mm); /* Total - Header */
            box-sizing: border-box;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        /* Flex utilities for filling space */
        .flex-fill {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .corner-marker {
            position: absolute;
            width: 10mm;
            height: 10mm;
            border: 0 solid #000;
            z-index: 10;
        }
        .tl { top: 0; left: 0; border-width: 0 2px 2px 0; }
        .tr { top: 0; right: 0; border-width: 0 0 2px 2px; }
        .bl { bottom: 0; left: 0; border-width: 2px 2px 0 0; }
        .br { bottom: 0; right: 0; border-width: 2px 0 0 2px; }

        /* --- PAGE 1: COLOR --- */
        .color-bars {
            display: flex;
            height: 15mm;
            width: 100%;
            border: 2px solid #000;
            margin-bottom: 2mm;
        }
        .cb { flex: 1; display: grid; place-items: center; font-size: 8pt; font-weight: bold; color: white; text-shadow: 1px 1px 0 #000; }
        
        .density-chart {
            display: flex;
            flex-direction: column;
            gap: 2mm;
            margin-top: 5mm;
        }
        .density-row { display: flex; height: 8mm; border: 1px solid #000; }
        .density-step { flex: 1; display: grid; place-items: center; font-size: 7pt; border-right: 1px solid rgba(0,0,0,0.2); }

        /* --- PAGE 2: GRID --- */
        .mm-grid {
            width: 100%;
            height: 100%;
            position: relative;
            background-image:
                linear-gradient(rgba(0,0,0,0.8) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0,0,0,0.8) 1px, transparent 1px),
                linear-gradient(rgba(0,100,255,0.2) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0,100,255,0.2) 1px, transparent 1px);
            background-size: 10mm 10mm, 10mm 10mm, 1mm 1mm, 1mm 1mm;
            background-position: -1px -1px;
            border: 2px solid black;
        }
        .ruler-h { position: absolute; top: 0; left: 0; right: 0; height: 5mm; display: flex; justify-content: space-between; padding: 0 2mm; font-size: 6pt; }
        .ruler-v { position: absolute; top: 0; left: 0; bottom: 0; width: 5mm; display: flex; flex-direction: column; justify-content: space-between; padding: 2mm 0; font-size: 6pt; text-align: center; }

        /* --- PAGE 3: TYPE --- */
        .char-grid {
            display: grid;
            grid-template-columns: repeat(32, 1fr);
            font-size: 7pt;
            border: 1px solid #000;
            margin-bottom: 5mm;
            background: #f9f9f9;
        }
        .char-cell { text-align: center; border: 1px solid #eee; }
        .lorem-cols {
            column-count: 2;
            column-gap: 10mm;
            font-size: 9pt;
            /* text-align: justify;  <-- REMOVED GLOBAL JUSTIFY */
            margin-bottom: 5mm;
            line-height: 1.4;
        }
        /* New utility classes for explicit alignment */
        .align-left { text-align: left; }
        .align-justify { text-align: justify; }
        .align-right { text-align: right; }
        .align-center { text-align: center; }

        /* --- PAGE 4: GRAPHICS --- */
        .moire-pattern {
            flex: 1;
            background: repeating-linear-gradient(
                175deg,
                #000,
                #000 0.5px,
                #fff 0.5px,
                #fff 2px
            );
            border: 1px solid #000;
            position: relative;
        }
        .contrast-box {
            display: flex;
            height: 15mm;
            border: 1px solid #000;
            margin-bottom: 2mm;
        }
        
        /* --- PRINT --- */
        @media print {
            @page { margin: 0; size: A4; }
            body { background: none; display: block; margin: 0; }
            .ui-panel { display: none !important; }
            .sheet {
                margin: 0;
                box-shadow: none;
                page-break-after: always;
                display: block !important;
                height: 297mm; /* Force height */
                width: 210mm;
            }
            body.print-single-mode .sheet { display: none !important; }
            body.print-single-mode .sheet.active { display: block !important; }
            * { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
        }
    </style>
</head>
<body>

    <!-- UI Navigation -->
    <div class="ui-panel">
        <button class="ui-btn" onclick="prevPage()">&lt; PREV</button>
        <div class="page-indicator">PAGE <span id="current-page-num">1</span> / 4</div>
        <button class="ui-btn" onclick="nextPage()">NEXT &gt;</button>
        <div style="width: 20px;"></div>
        <button class="ui-btn" style="border-color: #fff; color: #fff;" onclick="printCurrent()">üñ®Ô∏è PRINT PAGE</button>
        <button class="ui-btn" style="border-color: cyan; color: cyan;" onclick="printAll()">üñ®Ô∏è PRINT ALL</button>
    </div>

    <!-- PAGE 1: INK DENSITY -->
    <div class="sheet active" id="p1">
        <div class="header-strip">
            <span>SYS_DIAG_TOOL_V3.0</span>
            <span>DATE: <script>document.write(new Date().toLocaleDateString('en-US'))</script></span>
            <span>[PAGE 01: FULL_DENSITY_MAP]</span>
        </div>
        <div class="content-area">
            <h2 style="text-align:center; border-bottom:2px solid #000; margin: 0 0 5mm 0;">PRIMARY INK SATURATION</h2>
            
            <!-- 100% Bars -->
            <div class="color-bars">
                <div class="cb" style="background:#00FFFF; color:black;">CYAN 100%</div>
                <div class="cb" style="background:#FF00FF;">MAGENTA 100%</div>
                <div class="cb" style="background:#FFFF00; color:black;">YELLOW 100%</div>
                <div class="cb" style="background:#000000;">KEY 100%</div>
            </div>
            
            <div class="label" style="font-size: 9pt; font-weight: bold; margin-top: 5mm;">INK DENSITY STEP WEDGE (10% Increments)</div>
            <div class="density-chart">
                <!-- Cyan Wedge -->
                <div class="density-row">
                    <div style="width:20mm; font-size:8pt; display:flex; align-items:center; padding-left:2mm; font-weight:bold;">CYAN</div>
                    <div class="density-step" style="background:rgba(0,255,255,0.1)">10%</div>
                    <div class="density-step" style="background:rgba(0,255,255,0.2)">20%</div>
                    <div class="density-step" style="background:rgba(0,255,255,0.3)">30%</div>
                    <div class="density-step" style="background:rgba(0,255,255,0.4)">40%</div>
                    <div class="density-step" style="background:rgba(0,255,255,0.5)">50%</div>
                    <div class="density-step" style="background:rgba(0,255,255,0.6)">60%</div>
                    <div class="density-step" style="background:rgba(0,255,255,0.7)">70%</div>
                    <div class="density-step" style="background:rgba(0,255,255,0.8)">80%</div>
                    <div class="density-step" style="background:rgba(0,255,255,0.9)">90%</div>
                    <div class="density-step" style="background:#00FFFF; font-weight:bold;">100%</div>
                </div>
                <!-- Magenta Wedge -->
                <div class="density-row">
                    <div style="width:20mm; font-size:8pt; display:flex; align-items:center; padding-left:2mm; font-weight:bold;">MAGENTA</div>
                    <div class="density-step" style="background:rgba(255,0,255,0.1)">10%</div>
                    <div class="density-step" style="background:rgba(255,0,255,0.2)">20%</div>
                    <div class="density-step" style="background:rgba(255,0,255,0.3)">30%</div>
                    <div class="density-step" style="background:rgba(255,0,255,0.4)">40%</div>
                    <div class="density-step" style="background:rgba(255,0,255,0.5)">50%</div>
                    <div class="density-step" style="background:rgba(255,0,255,0.6)">60%</div>
                    <div class="density-step" style="background:rgba(255,0,255,0.7)">70%</div>
                    <div class="density-step" style="background:rgba(255,0,255,0.8)">80%</div>
                    <div class="density-step" style="background:rgba(255,0,255,0.9)">90%</div>
                    <div class="density-step" style="background:#FF00FF; color:white; font-weight:bold;">100%</div>
                </div>
                <!-- Yellow Wedge -->
                <div class="density-row">
                    <div style="width:20mm; font-size:8pt; display:flex; align-items:center; padding-left:2mm; font-weight:bold;">YELLOW</div>
                    <div class="density-step" style="background:rgba(255,255,0,0.1)">10%</div>
                    <div class="density-step" style="background:rgba(255,255,0,0.2)">20%</div>
                    <div class="density-step" style="background:rgba(255,255,0,0.3)">30%</div>
                    <div class="density-step" style="background:rgba(255,255,0,0.4)">40%</div>
                    <div class="density-step" style="background:rgba(255,255,0,0.5)">50%</div>
                    <div class="density-step" style="background:rgba(255,255,0,0.6)">60%</div>
                    <div class="density-step" style="background:rgba(255,255,0,0.7)">70%</div>
                    <div class="density-step" style="background:rgba(255,255,0,0.8)">80%</div>
                    <div class="density-step" style="background:rgba(255,255,0,0.9)">90%</div>
                    <div class="density-step" style="background:#FFFF00; font-weight:bold;">100%</div>
                </div>
                <!-- Black Wedge -->
                <div class="density-row">
                    <div style="width:20mm; font-size:8pt; display:flex; align-items:center; padding-left:2mm; font-weight:bold;">BLACK</div>
                    <div class="density-step" style="background:rgba(0,0,0,0.1)">10%</div>
                    <div class="density-step" style="background:rgba(0,0,0,0.2)">20%</div>
                    <div class="density-step" style="background:rgba(0,0,0,0.3)">30%</div>
                    <div class="density-step" style="background:rgba(0,0,0,0.4)">40%</div>
                    <div class="density-step" style="background:rgba(0,0,0,0.5); color:white;">50%</div>
                    <div class="density-step" style="background:rgba(0,0,0,0.6); color:white;">60%</div>
                    <div class="density-step" style="background:rgba(0,0,0,0.7); color:white;">70%</div>
                    <div class="density-step" style="background:rgba(0,0,0,0.8); color:white;">80%</div>
                    <div class="density-step" style="background:rgba(0,0,0,0.9); color:white;">90%</div>
                    <div class="density-step" style="background:#000000; color:white; font-weight:bold;">100%</div>
                </div>
            </div>

            <!-- RGB / Secondary -->
            <div class="color-bars" style="margin-top: 5mm;">
                <div class="cb" style="background:#FF0000;">RED</div>
                <div class="cb" style="background:#00FF00; color:black;">GREEN</div>
                <div class="cb" style="background:#0000FF;">BLUE</div>
            </div>

            <!-- Extended Nozzle Check (Filling Bottom) -->
            <div class="flex-fill" style="margin-top:5mm; border:1px dashed #000; padding:5mm; position:relative;">
                <h3 style="margin:0 0 2mm 0; font-size:10pt;">// FULL_BED_NOZZLE_CHECK</h3>
                <div style="flex:1; display:flex; gap:2mm;">
                    <div style="flex:1; background: repeating-linear-gradient(45deg, #00FFFF 0, #00FFFF 0.5px, transparent 0.5px, transparent 3px);"></div>
                    <div style="flex:1; background: repeating-linear-gradient(45deg, #FF00FF 0, #FF00FF 0.5px, transparent 0.5px, transparent 3px);"></div>
                    <div style="flex:1; background: repeating-linear-gradient(45deg, #FFFF00 0, #FFFF00 0.5px, transparent 0.5px, transparent 3px);"></div>
                    <div style="flex:1; background: repeating-linear-gradient(45deg, #000000 0, #000000 0.5px, transparent 0.5px, transparent 3px);"></div>
                </div>
                <div style="text-align:center; font-size:8pt; margin-top:2px;">Check for broken lines in the pattern above</div>
            </div>

            <div class="corner-marker tl" style="top:10mm; left:10mm; border-color:black;"></div>
            <div class="corner-marker tr" style="top:10mm; right:10mm; border-color:black;"></div>
            <div class="corner-marker bl" style="bottom:10mm; left:10mm; border-color:black;"></div>
            <div class="corner-marker br" style="bottom:10mm; right:10mm; border-color:black;"></div>
        </div>
    </div>

    <!-- PAGE 2: GRID & GEOMETRY -->
    <div class="sheet" id="p2">
        <div class="header-strip">
            <span>SYS_DIAG_TOOL_V3.0</span>
            <span>PRECISION: 1.0mm</span>
            <span>[PAGE 02: FULL_GEOMETRY]</span>
        </div>
        <div class="content-area" style="padding: 0;">
            <div class="mm-grid">
                <div class="center-cross"></div>
                <!-- Ruler Labels -->
                <div class="ruler-h"><span>0</span><span>50</span><span>100</span><span>150</span><span>210mm</span></div>
                <div class="ruler-v"><span>0</span><span>50</span><span>100</span><span>150</span><span>200</span><span>250</span><span>297</span></div>

                <!-- Corner Circles -->
                <div style="position:absolute; top:20mm; left:20mm; width:20mm; height:20mm; border:1px solid red; border-radius:50%;"></div>
                <div style="position:absolute; top:20mm; right:20mm; width:20mm; height:20mm; border:1px solid red; border-radius:50%;"></div>
                <div style="position:absolute; bottom:20mm; left:20mm; width:20mm; height:20mm; border:1px solid red; border-radius:50%;"></div>
                <div style="position:absolute; bottom:20mm; right:20mm; width:20mm; height:20mm; border:1px solid red; border-radius:50%;"></div>
                
                <!-- Central Circles -->
                <div style="position:absolute; top:50%; left:50%; transform:translate(-50%, -50%); width:100mm; height:100mm; border:1px solid black; border-radius:50%;"></div>
                <div style="position:absolute; top:50%; left:50%; transform:translate(-50%, -50%); width:160mm; height:160mm; border:1px solid black; border-radius:50%;"></div>

                <!-- Diagonals -->
                <svg style="position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none;">
                    <line x1="0" y1="0" x2="100%" y2="100%" stroke="black" stroke-width="0.2" />
                    <line x1="100%" y1="0" x2="0" y2="100%" stroke="black" stroke-width="0.2" />
                    <rect x="50%" y="50%" width="10mm" height="10mm" transform="translate(-5mm, -5mm)" fill="none" stroke="black" />
                </svg>
            </div>
        </div>
    </div>

    <!-- PAGE 3: TYPOGRAPHY -->
    <div class="sheet" id="p3">
        <div class="header-strip">
            <span>SYS_DIAG_TOOL_V3.0</span>
            <span>FONT: MONOSPACE</span>
            <span>[PAGE 03: EXTREME_TYPOGRAPHY]</span>
        </div>
        <div class="content-area">
            
            <!-- Font Scaling -->
            <div style="border-bottom: 1px solid #000; padding-bottom: 5mm; margin-bottom: 5mm;">
                <div class="label">FONT_SCALING_TEST</div>
                <div style="display:flex; justify-content: space-between; align-items: baseline;">
                    <span style="font-size: 6pt;">06pt Micro</span>
                    <span style="font-size: 8pt;">08pt Tiny</span>
                    <span style="font-size: 10pt;">10pt Small</span>
                    <span style="font-size: 12pt;">12pt Body</span>
                    <span style="font-size: 16pt;">16pt H3</span>
                    <span style="font-size: 24pt;">24pt H2</span>
                    <span style="font-size: 42pt; font-weight:bold;">42pt</span>
                </div>
            </div>

            <!-- Character Map (Fills space) -->
            <div class="label">ASCII_CHARACTER_MAP</div>
            <div class="char-grid">
                <!-- Simple script to generate some char boxes -->
                <script>
                    for(let i=33; i<127; i++) {
                        document.write(`<div class="char-cell">${String.fromCharCode(i)}</div>`);
                    }
                </script>
            </div>

            <!-- Terminal Inverse -->
            <div class="terminal-box">
                > SYSTEM_CHECK: OK<br>
                > INK_FLOW: STABLE<br>
                > Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.<br>
                > #!/bin/bash echo "Hello World"
            </div>

            <!-- Text Columns (Fills remaining space) -->
            <div class="label">TEXT_ALIGNMENT_&_LEADING_TEST</div>
            <div class="lorem-cols flex-fill">
                <!-- NOW USING EXPLICIT ALIGNMENT -->
                <p class="align-left"><strong>[L] Left Align:</strong> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident.</p>
                <p class="align-justify"><strong>[J] Justified:</strong> Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit.</p>
                <p class="align-right"><strong>[R] Right Align (Simulated):</strong> At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi.</p>
                <p class="align-left"><strong>Spacing Check:</strong><br>Line 1.<br>Line 2 (Tight).<br><br>Line 3 (Gap).<br>1234567890</p>
            </div>
            
            <div style="border-top:1px solid black; padding-top:2px; font-size:8pt; text-align:center;">Bottom of Page 3 - Margin Check</div>
        </div>
    </div>

    <!-- PAGE 4: GRAPHICS & DITHERING -->
    <div class="sheet" id="p4">
        <div class="header-strip">
            <span>SYS_DIAG_TOOL_V3.0</span>
            <span>ADVANCED_GRAPHICS</span>
            <span>[PAGE 04: RENDER_STRESS_TEST]</span>
        </div>
        <div class="content-area">
            
            <!-- Gradients -->
            <div class="label">SMOOTH_GRADIENTS</div>
            <div class="gradient-test" style="background: linear-gradient(to right, black, white);"></div>
            <div class="gradient-test" style="background: linear-gradient(to right, red, yellow, lime, cyan, blue, magenta, red);"></div>

            <!-- Contrast Threshold -->
            <div class="label">CONTRAST_THRESHOLD (High/Low)</div>
            <div class="contrast-box">
                <div style="flex:1; background:#000; color:#111; display:flex; align-items:center; justify-content:center;">3%</div>
                <div style="flex:1; background:#000; color:#222; display:flex; align-items:center; justify-content:center;">6%</div>
                <div style="flex:1; background:#000; color:#333; display:flex; align-items:center; justify-content:center;">10%</div>
                <div style="flex:1; background:#fff; color:#eee; display:flex; align-items:center; justify-content:center;">3%</div>
                <div style="flex:1; background:#fff; color:#ddd; display:flex; align-items:center; justify-content:center;">6%</div>
                <div style="flex:1; background:#fff; color:#ccc; display:flex; align-items:center; justify-content:center;">10%</div>
            </div>

            <!-- Radial -->
            <div class="label">RADIAL_ALIASING</div>
            <div style="display: flex; gap: 5mm; height: 50mm; margin-bottom: 5mm;">
                <div style="flex:1; border:1px solid black; background: repeating-conic-gradient(#000 0% 1%, #fff 1% 2%); border-radius: 50%;"></div>
                <div style="flex:1; border:1px solid black; background: repeating-radial-gradient(circle, #000 0, #000 1px, #fff 1px, #fff 2px);"></div>
            </div>

            <!-- Moire Pattern (Fills Remaining Space) -->
            <div class="label">MOIRE_INTERFERENCE_PATTERN (Full Bed)</div>
            <div class="moire-pattern">
                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 5px; border: 1px solid black; text-align: center;">
                    <strong>STRESS TEST</strong><br>Check for unwanted wave patterns
                </div>
            </div>
            
             <div style="margin-top: 5mm; text-align: center; border: 2px solid #000; padding: 5px; font-size: 8pt;">
                END OF DIAGNOSTIC SUITE V3.0
            </div>

        </div>
    </div>

    <script>
        let currentPage = 1;
        const totalPages = 4;

        function updateDisplay() {
            document.querySelectorAll('.sheet').forEach(el => el.classList.remove('active'));
            document.getElementById('p' + currentPage).classList.add('active');
            document.getElementById('current-page-num').innerText = currentPage;
        }

        function nextPage() {
            if (currentPage < totalPages) {
                currentPage++;
                updateDisplay();
            }
        }

        function prevPage() {
            if (currentPage > 1) {
                currentPage--;
                updateDisplay();
            }
        }

        function printCurrent() {
            document.body.classList.add('print-single-mode');
            window.print();
            setTimeout(() => {
                document.body.classList.remove('print-single-mode');
            }, 1000);
        }

        function printAll() {
            document.body.classList.remove('print-single-mode');
            window.print();
        }
    </script>
</body>
</html>
